<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Arbeitsblatt-Generator</title>
    <link href="node_modules/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
    <link href="node_modules/bootstrap-slider/dist/css/bootstrap-slider.css" rel="stylesheet">
    <link rel="stylesheet" href="app.css" type="text/css" />
    <link rel="stylesheet" href="print.css" media="print" type="text/css" />
    <script src="node_modules/jquery/dist/jquery.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.js"></script>
    <script src="node_modules/bootstrap-slider/js/bootstrap-slider.js"></script>
    <script src="node_modules/knockout/build/output/knockout-latest.debug.js"></script>
    <script src="node_modules/moment/moment.js"></script>
    <script src="KnockoutBindingHandlers.js"></script>
    <script src="Common.js"></script>
    <script src="Subject/Mathematics/Common.js"></script>
    <script src="Subject/Mathematics/ArithmeticBase.js"></script>
    <script src="Subject/Mathematics/MathematicsViewModel.js"></script>
    <script src="Subject/Mathematics/MentalArithmetic.js"></script>
    <script src="Subject/Mathematics/WrittenArithmetic.js"></script>
    <script src="WorksheetViewModel.js"></script>
    <script src="app.js"></script>

    <script type="text/html" id="mathematics-template">
        <select data-bind="options: exerciseGenerators, value: selectedExerciseGenerator, optionsText: 'name'"></select>
        <div data-bind="template: { name: selectedExerciseGenerator().template, data: selectedExerciseGenerator }"></div>
    </script>

    <script type="text/html" id="two-operand-exercise-template">
        <select data-bind="options: numberTypes, value: selectedNumberType, optionsText: 'value'"></select>
        <br />
        <span data-bind="foreach: operators">
            <label>
                <input type="checkbox" data-bind="checked: $parent.operatorIsSelected(value)" />
                <span data-bind="text: key"></span>
            </label>
            <span data-bind="with: value.operandBounds.leftOperand">
                Wertebereich linker Operand:
                <input type="text" data-bind="slider: { min: 0, max: 1000, lower: lower, upper: upper, step: 1, scale: 'logarithmic' }" />
            </span>
            <span data-bind="with: value.operandBounds.rightOperand">
                Wertebereich rechter Operand:
                <input type="text" data-bind="slider: { min: 0, max: 1000, lower: lower, upper: upper, step: 1, scale: 'logarithmic' }" />
            </span>
            <br />
        </span>
    </script>

    <script type="text/html" id="mental-arithmetic-exercise-template">
        <div class="exercise mental-arithmetic-exercise">
            <span class="operand left-operand" data-bind="text: leftOperand, css: { 'negative-operand': leftOperand < 0}"></span>
            <span class="operator" data-bind="html: operator"></span>
            <span class="operand right-operand" data-bind="text: rightOperand, css: { 'negative-operand': rightOperand < 0}"></span>
            <span class="equals">=</span>
            <span class="result" data-bind="text: result"></span>
        </div>
    </script>

    <script type="text/html" id="written-arithmetic-exercise-template">
        <div class="exercise written-arithmetic-exercise" data-bind="foreach: rows">
            <div class="exercise-row">
                <!-- ko foreach: $data --><span class="exercise-cell" data-bind="css: { separator: addSeparator }">
                    <span data-bind="html: content, css: { result: isResult }"></span>
                </span><!-- /ko -->
            </div>
            <span class="clear"></span>
        </div>
    </script>
</head>
<body>
    <h1 class="no-print">Arbeitsblatt-Generator</h1>

    <div id="settings" class="no-print">
        <select data-bind="options: subjects, value: selectedSubject, optionsText: 'name'"></select>

        <div data-bind="template: { name: selectedSubject().template, data: selectedSubject }"></div>

        <div>
            <label>
                Anzahl der Übungen:
                <input type="number" data-bind="numericValue: numberOfExercises" style="width: 50px" />
            </label>
        </div>

        <div>
            <label>
                Lösung inkludieren:
                <input type="checkbox" data-bind="checked: showResults" />
            </label>
        </div>

        <input type="button" data-bind="click: generate" value="Generieren" />
    </div>
    <div class="no-print" data-bind="text: error"></div>
    <div id="output">
        <div id="output-header">
            <span data-bind="editableText: topLeftColumn"></span>
            <span data-bind="editableText: topCenterColumn"></span>
            <span data-bind="editableText: topRightColumn"></span>
        </div>
        <div id="exercises" data-bind="foreach: exercises, css: { 'show-results': showResults }">
            <div data-bind="template: { name: template, data: $data }"></div>
        </div>
    </div>
</body>
</html>